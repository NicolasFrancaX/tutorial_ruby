<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
<head>
   <meta http-equiv="content-type" content="text/html; charset=utf-8" />
   <title>Números em Ruby</title>
   <meta name="author" content="" />

   <!--- Blueprint CSS Framework -->
   <link rel="stylesheet" href="css/blueprint/screen.css" type="text/css" media="screen, projection">
   <link rel="stylesheet" href="css/blueprint/print.css" type="text/css" media="print">
   <!--[if IE]>
      <link rel="stylesheet" href="css/blueprint/ie.css" type="text/css" media="screen, projection">
   <![endif]-->

   <!-- CodeRay syntax highlighting CSS -->
   <link rel="stylesheet" href="css/coderay.css" type="text/css" />

   <!-- Homepage CSS -->
   <link rel="stylesheet" href="css/site.css" type="text/css" media="screen, projection" />
</head>
<body>

<div class="container">

   <div class="column span-20 prepend-2 append-2 first last" id="header">
     <p class="title">Tutorial de Ruby do GURU-SP</p>
     <hr>
   </div>

   <div class="column span-15 prepend-2 first">
      <p class="title">Números em Ruby</p>
<p>Vamos brincar com números. Em Ruby, números sem pontos decimais são chamados inteiros (integers), e números com pontos decimais são geralmente chamados de números ponto flutuante (floating-point numbers) ou, mais simples, floats (você deve inserir pelo menos um dígito depois do ponto decimal). Um literal inteiro é uma simples sequência de dígitos ex. 0, 123, 123456789. Underscores podem ser inseridos em literais inteiros (embora não no começo ou no final), e essa características é utilizada algumas vezes como separador de casa de milhar ex. 1_000_000_000. Caracteres Underscore são ignorados no dígito de string. Aqui está o programa <strong>p002numerosruby.rb</strong></p>
<p><div class="CodeRay"><br />
<pre><span class="no"> 1</span> <span class="c"># p002numerosruby.rb</span><br />
<span class="no"> 2</span> <span class="c">=begin<br />
<span class="no"> 3</span>  Números Ruby<br />
<span class="no"> 4</span>  Operadores comuns:<br />
<span class="no"> 5</span>  + adição<br />
<span class="no"> 6</span>  &#8211; subtração<br />
<span class="no"> 7</span>  * multiplicação<br />
<span class="no"> 8</span>  / divisão<br />
<span class="no"> 9</span> =end</span><br />
<span class="no"><strong>10</strong></span> <br />
<span class="no">11</span> puts <span class="i">1</span> + <span class="i">2</span><br />
<span class="no">12</span> puts <span class="i">2</span> * <span class="i">3</span><br />
<span class="no">13</span> <span class="c"># Divisão de inteiros</span><br />
<span class="no">14</span> <span class="c"># Quando você faz um cálculo aritmético com inteiros,</span><br />
<span class="no">15</span> <span class="c"># você recebeberá uma resposta em inteiros</span><br />
<span class="no">16</span> puts <span class="i">3</span> / <span class="i">2</span><br />
<span class="no">17</span> puts <span class="i">10</span> &#8211; <span class="i">11</span><br />
<span class="no">18</span> puts <span class="fl">1.5</span> / <span class="fl">2.6</span><br />
</pre><br />
</div><br />
&nbsp;</p>
<div class='box'>Inteiros Ruby são objetos da classe <strong>Fixnum</strong> ou <strong>Bignum</strong>. As classes <strong>Fixnum</strong> e <strong>Bignum</strong> representam inteiros de diferentes tamanhos. Ambas as classes descendem de <strong>Integer</strong> (e, sendo assim, de <strong>Numeric</strong>). Os números ponto flutuantes são objetos da classe <strong>Float</strong>, correspondendo a nativa arquitetura do tipo de data double. As classes <strong>Complex</strong>, <strong>BigDecimal</strong> e <strong>Rational</strong> não são embutidas no Ruby mas são distribuídas com ele como parte das bibliotecas padrões. Nós falaremos sobre classes em detalhes mais tarde.</div>
<p>A hierarquia das classes (cortesia: <a href="http://www.cs.mun.ca/%7Edonald">Donald Craig</a>) é como mostrado na figura abaixo:</p>
<p><img src="images/class.gif" alt="" /></p>
<h2>Operadores e Precedência</h2>
<p>Vamos dar uma olhada nos operadores do Ruby (cortesia: Dave Thomas&#8217; &#8211; <a href="http://www.pragprog.com/titles/ruby3/programming-ruby-3">Programming Ruby</a>). Eles estão organizados aqui em ordem de precedência, da mais alta para a mais baixa.</p>
<p><img src="images/operators.jpg" alt="" /></p>
<div class='box'>
<ol>
	<li>Os operadores de incremento e decremento (++ e &#8212;) não estão	 disponíveis em Ruby, nem da forma &#8220;pré&#8221; nem &#8220;pós&#8221;. Entretanto, note que os operadores += e -= estão disponíveis.</li>
	<li>Parênteses funcionam da mesma forma como em expressões aritméticas. Qualquer coisa dentro de parênteses é calculado primeiro (ou, de uma forma mais técnica, é dado uma precedência maior).</li>
	<li>Os operadores checados na figura são um tipo de syntactic sugar (mais sobre isso depois) &#8211; onde algo parece com um operador mas na verdade é uma chamada a um método.<br />
</div></li>
</ol>
<p>O operador módulo (%) do Ruby comportasse da forma a seguir:</p>
<p><div class="CodeRay"><br />
<pre><span class="no">1</span> puts (<span class="i">5</span> % <span class="i">3</span>)     <span class="c"># imprime  2  </span><br />
<span class="no">2</span> puts (<span class="i">-5</span> % <span class="i">3</span>)    <span class="c"># imprime  1  </span><br />
<span class="no">3</span> puts (<span class="i">5</span> % <span class="i">-3</span>)    <span class="c"># imprime -1  </span><br />
<span class="no">4</span> puts (<span class="i">-5</span> % <span class="i">-3</span>)   <span class="c"># imprime -2 </span><br />
</pre><br />
</div><br />
&nbsp;</p>
<p>A definição do operador módulo do Ruby é diferente do C e do Java, -7%3 é 2. Em C e Java, o resultado é -1. Em Ruby, o sinal do resultado (para o operador %) é sempre o mesmo sinal que o do segundo operando.</p>
<h2>Diferença entre os operadores or e ||</h2>
<p>Ambos, <strong>or</strong> e <strong>||</strong>, retornam o primeiro argumento ao menos que este retorne <strong>false</strong>, neste caso avaliam e retoram o segundo argumento. Isto é demonstrado no exemplo seguinte:</p>
<p><div class="CodeRay"><br />
<pre><span class="no">1</span> puts <span class="pc">nil</span> || <span class="i">2008</span>  <br />
<span class="no">2</span> puts <span class="pc">false</span> || <span class="i">2008</span>  <br />
<span class="no">3</span> puts <span class="s"><span class="dl">&quot;</span><span class="k">ruby</span><span class="dl">&quot;</span></span> || <span class="i">2008</span><br />
</pre><br />
</div><br />
A saída é:</p>
<p><div class="CodeRay"><br />
<pre><span class="no">1</span> &gt;ruby test.rb  <br />
<span class="no">2</span> <span class="i">2008</span>  <br />
<span class="no">3</span> <span class="i">2008</span>  <br />
<span class="no">4</span> ruby  <br />
<span class="no">5</span> &gt;<span class="co">Exit</span> code: <span class="i">0</span><br />
</pre><br />
</div><br />
&nbsp;</p>
<p>A única diferença entre <strong>or</strong> e <strong>||</strong> é sua precedência. <strong>||</strong> tem uma precedência mais alta do que <strong>or</strong>.</p>
<p>Uma prática comum é usar || para atribuir valor a uma variável somente se nenhum valor foi atribuído a ela. Isso pode ser escrito assim:</p>
<p><div class="CodeRay"><br />
<pre><span class="no">1</span> <span class="iv"><code>variavel&lt;/span&gt; = &lt;span class="iv"&gt;</code>variavel</span> || <span class="s"><span class="dl">&quot;</span><span class="k">valor padrão</span><span class="dl">&quot;</span></span><br />
</pre><br />
</div><br />
ou, mais idiomático, como:</p>
<p><div class="CodeRay"><br />
<pre><span class="no">1</span> <span class="iv">@variavel</span> ||= <span class="s"><span class="dl">&quot;</span><span class="k">valor padrão</span><span class="dl">&quot;</span></span><br />
</pre><br />
</div><br />
&nbsp;</p>
<p>Uma razão para essas versões alternativas de operadores booleanos é o fato de que eles tem precedência mais baixa do que o operador de atribuição. Isto significa que você pode escrever uma expressão booleana como a seguinte que atribui valores à variáveis até que ele encontre um valor false:</p>
<p><div class="CodeRay"><br />
<pre><span class="no">1</span> <span class="r">if</span> a = f(x) <span class="r">and</span> b = f(y) <span class="r">and</span> c = f(z) <span class="r">then</span> d = g(a,b,c) <span class="r">end</span><br />
</pre><br />
</div><br />
&nbsp;</p>
<p>Esta expressão simplesmente não funcionaria se escrita com <strong>&amp;&amp;</strong> ao invéz de <strong>and</strong>.</p>
   </div>

   <div class="column span-5 append-2 last">

      <p><img src="images/logo_guru-sp.jpg" title="Logo do GURU-SP" alt="Logo do Guru-SP" /></p>

      <div class="box">
         <p class="last">Mauris a lectus. Aliquam erat volutpat. Phasellus ultrices mi a sapien. Nunc rutrum egestas lorem. Duis ac sem sagittis elit tincidunt gravida.</p>
      </div>

      <p class="quiet">Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae; Cras ornare mattis nunc. Mauris venenatis, pede sed aliquet vehicula, lectus tellus pulvinar neque, non cursus sem nisi vel augue.</p>

      <h5>Incremental leading</h5>
      <p class="incr">Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae; Cras ornare mattis nunc. Mauris venenatis, pede sed aliquet vehicula, lectus tellus pulvinar neque, non cursus sem nisi vel augue. sed aliquet vehicula, lectus tellus.</p>
   </div>

   <div class="column span-20 prepend-2 append-2 first last" id="footer">
     <hr />
     <p>Este site foi criado com <a href="http://webby.rubyforge.org">Webby</a></p>
   </div>

</div>
</body>
</html>
